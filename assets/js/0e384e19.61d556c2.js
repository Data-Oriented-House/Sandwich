"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[671],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>f});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),s=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},d=function(e){var n=s(e.components);return r.createElement(l.Provider,{value:n},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},h=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),u=s(t),h=o,f=u["".concat(l,".").concat(h)]||u[h]||p[h]||i;return t?r.createElement(f,a(a({ref:n},d),{},{components:t})):r.createElement(f,a({ref:n},d))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=h;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c[u]="string"==typeof e?e:o,a[1]=c;for(var s=2;s<i;s++)a[s]=t[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}h.displayName="MDXCreateElement"},59881:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>s});var r=t(87462),o=(t(67294),t(3905));const i={sidebar_position:1},a="Introduction",c={unversionedId:"intro",id:"intro",title:"Introduction",description:"Why Would I Need Sandwich?",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/Sandwich/docs/intro",draft:!1,editUrl:"https://github.com/data-oriented-house/sandwich/edit/main/docs/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"defaultSidebar",next:{title:"Examples",permalink:"/Sandwich/docs/examples"}},l={},s=[{value:"Why Would I Need Sandwich?",id:"why-would-i-need-sandwich",level:2},{value:"What Does Sandwich Do?",id:"what-does-sandwich-do",level:2},{value:"How Do I Use Sandwich?",id:"how-do-i-use-sandwich",level:2}],d={toc:s},u="wrapper";function p(e){let{components:n,...t}=e;return(0,o.kt)(u,(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"introduction"},"Introduction"),(0,o.kt)("h2",{id:"why-would-i-need-sandwich"},"Why Would I Need Sandwich?"),(0,o.kt)("p",null,"In Luau and Roblox there just aren't good ways to guarantee jobs run in a certain order. Roblox offers RunService, but uses an unfriendly priority system for RenderStepped that isn't even available for Heartbeat or other events, making ordering impossible on the Server. Luau just doesn't have any way to automatically order jobs at all."),(0,o.kt)("h2",{id:"what-does-sandwich-do"},"What Does Sandwich Do?"),(0,o.kt)("p",null,"Sandwich simply lets you order jobs by specifying dependencies. Almost identical in concept to requiring modules to execute code. It uses topological sorting to order jobs, and then runs them in order. It also offers a way to execute code on intervals. That's it. Nothing crazy."),(0,o.kt)("h2",{id:"how-do-i-use-sandwich"},"How Do I Use Sandwich?"),(0,o.kt)("p",null,"Very simple! You create Schedules and then add Jobs to them."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local newSchedule =  Sandwhich.schedule()\n\n-- Runs concurrently with secondJob\nlocal firstJob = newSchedule.job(function(text: string | number)\n    print("First " .. text)\nend)\n\n-- Runs concurrently with firstJob\nlocal secondJob = newSchedule.job(function(text: string | number)\n    print("Second " .. text)\nend)\n\n-- Always runs after firstJob\nlocal thirdJob = newSchedule.job(function(text: string | number)\n    print("Third " .. text)\nend, firstJob)\n')),(0,o.kt)("p",null,"Then you can then start the schedule and all of the jobs will execute in topological order! Topological order in this case means dependencies will always be executed before the jobs that depend on them."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'newSchedule.start("is running")\n-- First is running\n-- Second is running\n-- Third is running\n')),(0,o.kt)("p",null,"Now every time you want to run a schedule, you call the start method. This makes it incredibly easy to integrate with pre-existing schedulers like Roblox's RunService, or work with event-driven systems like user-input."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},"RunService.Heartbeat:Connect(newSchedule.start)\n-- Second   0.016\n-- First    0.016\n-- Third    0.016\n\nlocal renderSchedule = Sandwhich.schedule()\nRunservice.RenderStepped:Connect(renderSchedule.start)\n")))}p.isMDXComponent=!0}}]);